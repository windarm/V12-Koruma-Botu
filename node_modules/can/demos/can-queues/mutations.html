<script src="../../node_modules/steal/steal.js" dev-bundle main='@empty'>
import { DefineMap, Observation, can } from "can";

window.can = can;

var person = new DefineMap({
    first: "Justin",
    last: "Meyer",
    nameChanges: 0
});

var fullName = new Observation(function fullName(){
    return person.first + " " + person.last;
});

fullName.on(function incrementNameChanges(){
    person.nameChanges++;
});

person.on("nameChanges", function nameChanged(){
      debugger
});

// somewhere we don't know about
setTimeout(function(){
    person.first = "Ramiya";
},2000);
</script>
